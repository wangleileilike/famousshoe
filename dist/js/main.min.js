"use strict";$(function(){$.getJSON("http://datainfo.duapp.com/shopdata/getCar.php?callback=?",{userID:$.cookie("username")},function(t){console.log(t);var i="";function s(){for(var t=$(".num_line_txt").get(),s=0,i=0;i<t.length;i++)s+=parseInt(t[i].value);$("#all_nums b").text(s)}$.each(t,function(t,s){"goodsID="+s.goodsID+"&",i+='<li>\n\t\t\t\t\t\t\t\t<img src="'+s.goodsListImg+'"/>\n\t\t\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t\t\t<p>\n\t\t\t\t\t\t\t\t\t\t<a href="detail.html?id='+s.goodsID+'">'+s.goodsName+"</a><br />\n\t\t\t\t\t\t\t\t\t\t<span>"+s.className+'</span>\n\t\t\t\t\t\t\t\t\t</p>\t\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t<strong>1</strong>\n\t\t\t\t\t\t\t\t<strong>￥399.00</strong>\n\t\t\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t\t\t<input type="button"  class="reduce" value="-" />\n\t\t\t\t\t\t\t\t\t<input type="text" class="num_line_txt" value="'+s.number+'"/>\n\t\t\t\t\t\t\t\t\t<input type="button"  class="plus" value="+" />\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<strong>'+s.price+'</strong>\n\t\t\t\t\t\t\t<strong>-￥359.00</strong>\n\t\t\t\t\t\t\t<p class="cart_delete">\n\t\t\t\t\t\t\t\t<a href="">收藏</a>\n\t\t\t\t\t\t\t\t<a href="">删除</a>\n\t\t\t\t\t\t\t</p>\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t</li>'}),$("#cart_list").html(i),$(".plus").click(function(){console.log("aaa"),$(this).prev().attr("value",parseInt($(this).prev().attr("value"))+1),s()}),$(".reduce").click(function(){$(this).next().attr("value",parseInt($(this).next().attr("value"))-1),$(this).next().attr("value")<=0&&$(this).next().attr("value",0),s()})}),$("#cartlogo").click(function(){location.href="cart.html"})}),$(function(){var t=location.search.split("=")[1];$.getJSON("http://datainfo.duapp.com/shopdata/getGoods.php?callback=?",{classID:t},function(t){var i="",a="";$.each(t,function(t,s){i+='<a href="details.html?id='+s.goodsID+'" class="main_classfiy_flex_list" target="_blank">\n\t\t\t\t\t\t<dl>\n\t\t\t\t\t\t\t<dt><img src="'+s.goodsListImg+'"/></dt>\n\t\t\t\t\t\t\t<dd>\n\t\t\t\t\t\t\t\t<b>'+s.price+"</b>   <strong>￥359.00</strong>\n\t\t\t\t\t\t\t\t<span>"+s.goodsName+"</span>\n\t\t\t\t\t\t\t\t<p>已经售出<em>149</em>件</p>\n\t\t\t\t\t\t\t</dd>\n\t\t\t\t\t\t</dl>\t\t\t\t\t\t\n\t\t\t\t\t</a>",a+='<a href="details.html?id='+s.goodsID+'" target="_blank">\n\t\t\t\t\t\t<dl>\n\t\t\t\t\t\t\t<dt><img src="'+s.goodsListImg+'"/></dt>\n\t\t\t\t\t\t\t<dd>\n\t\t\t\t\t\t\t\t<p>'+s.goodsName+"</p>\n\t\t\t\t\t\t\t\t<b>"+s.price+"</b>\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t</dd>\n\t\t\t\t\t\t</dl>\n\t\t\t\t\t</a>"});for(var s="",n=0;n<4;n++)s+=a;$("#main_classfiy_flex").html(i),$("#shortshirt_list").html(s)})}),$(function(){$("#plus").click(function(){$(this).prev().attr("value",parseInt($(this).prev().attr("value"))+1),$("#nowbuy_left strong").eq(0).text($(this).prev().attr("value"))}),$("#reduce").click(function(){$(this).next().attr("value",parseInt($(this).next().attr("value"))-1),$(this).next().attr("value")<=0&&$(this).next().attr("value",0),$("#nowbuy_left strong").eq(0).text($(this).next().attr("value"))});var t=location.search.split("=")[1];$.getJSON("http://datainfo.duapp.com/shopdata/getGoods.php?callback=?",{goodsID:t},function(t){var s='<div id="details_left_top">\n\t\t\t\t\t\t\t<img src="images/big1.jpg"/>\n\t\t\t\t\t\t\t<img src="images/big2.jpg"/>\n\t\t\t\t\t\t\t<img src="images/big3.jpg"/>\n\t\t\t\t\t\t\t<img src="images/big4.jpg"/>\n\t\t\t\t\t\t\t<img src="images/big5.jpg"/>\n\t\t\t\t\t\t\t<img src="'+t[0].goodsListImg+'"/>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div id="details_left_bottom">\n\t\t\t\t\t\t\t<ul>\n\t\t\t\t\t\t\t\t<li><img src="images/small1.jpg"/></li>\n\t\t\t\t\t\t\t\t<li><img src="images/small2.jpg"/></li>\n\t\t\t\t\t\t\t\t<li><img src="images/small3.jpg"/></li>\n\t\t\t\t\t\t\t\t<li><img src="images/small4.jpg"/></li>\n\t\t\t\t\t\t\t\t<li><img src="images/small5.jpg"/></li>\n\t\t\t\t\t\t\t\t<li><img src="'+t[0].goodsListImg+'"/></li>\n\t\t\t\t\t\t\t</ul>\n\t\t\t\t\t</div>';$("#details_left").html(s),$("#details_left_bottom ul").find("li").mouseover(function(){var t=$(this).index();$(this).addClass("bordercolor").siblings().removeClass("bordercolor"),$("#details_left_top").find("img").eq(t).addClass("classfiy_show").siblings().removeClass("classfiy_show")}),$("#details_right_title").text(t[0].goodsName),$("#details_price_currt").text(t[0].price),$("#jrgwc").click(function(){$.ajax({type:"get",url:"http://datainfo.duapp.com/shopdata/updatecar.php",async:!0,data:{userID:$.cookie("username"),goodsID:t[0].goodsID},success:function(t){1==t?($("#cart_tong").css("display","block").text("添 加 成 功"),location.href="cart.html"):$("#cart_tong").css("display","block").text("添 加 失 败")}})})})}),$(function(){$("#txt").focus(function(){$(this).addClass("active"),$(this).val()==this.defaultValue&&$(this).val("")}).blur(function(){$(this).removeClass("active"),""==$(this).val()&&$(this).val(this.defaultValue)})}),$.ajax({type:"get",url:"data/json.json",async:!0,success:function(a){for(var t=0;t<a.length;t++)$("#detailist").append("<li class = 'goods'><a href='http://localhost:8080/classfiy.html'>"+a[t].name+"</a><ul class='secondul'></ul></li>");$("#allgods").hover(function(){$(this).find("#detailist").css("display","block")},function(){$(this).find("#detailist").css("display","none")}),$("#detailist").find(".goods").hover(function(){var t=$(this).index();$(this).find(".secondul").show().parent().addClass("hover").siblings().find(".secondul").css("display","none").parent().removeClass("hover");for(var s=0;s<a[t].city.length;s++){$(this).find(".secondul").append("<li class='goodstwo'><a href='http://localhost:8080/classfiy.html'>"+a[t].city[s].name+"</a><ul class='threeul'></ul></li>");for(var i=0;i<a[t].city[s].area.length;i++)$(this).find(".secondul").find(".threeul").append("<li><a href='http://localhost:8080/classfiy.html'>"+a[t].city[s].area[i]+"</a></li>")}},function(){$(this).find(".secondul").html(""),$(this).find(".secondul").find(".threeul").html("")})}}),$(function(){$.get("data/mansport.json",function(t){for(var s=0;s<t.length;s++){$("#mansport").append("<ul><p>"+t[s].name+"</p></ul>");for(var i=0;i<t[s].title.length;i++)s<2&&$("#mansport").find("ul").eq(s).append("<li><a href='http://localhost:8080/classfiy.html'>"+t[s].title[i]+"</a></li>"),2<=s&&$("#mansport").find("ul").eq(s).append("<li><a href=' http://localhost:8080/classfiy.html'><img src='images/"+t[s].title[i]+"'></a></li>")}$("#mansportlist").mouseover(function(){$("#mansport").css("display","block")}).mouseleave(function(){$("#mansport").css("display","none")})})}),$(function(){$.get("data/mansport.json",function(t){for(var s=0;s<t.length;s++){$("#womansport").append("<ul><p>"+t[s].name+"</p></ul>");for(var i=0;i<t[s].title.length;i++)s<2&&$("#womansport").find("ul").eq(s).append("<li><a href='http://localhost:8080/classfiy.html'>"+t[s].title[i]+"</a></li>"),2<=s&&$("#womansport").find("ul").eq(s).append("<li><a href='http://localhost:8080/classfiy.html'><img src='images/"+t[s].title[i]+"'></a></li>")}$("#womansportlist").mouseover(function(){$("#womansport").css("display","block")}).mouseleave(function(){$("#womansport").css("display","none")})})}),$(function(){for(var t=0;t<20;t++)$("#flexband").append("<li><a href='https://www.s.cn/nike-brand.html'></a></li>")}),$("#login_change_btn").click(function(){var t=["A","B","C","D","E","F","G","H","I","G","K","L","M","N","O","P","Q","R","S","D","U","V","W","X","Y","Z","0","1","2","3","4","5","6","7","8","9"];$("#login_changpic").text("");for(var s=0;s<4;s++)$("#login_changpic").append(t[Math.floor(36*Math.random())])}),$("#login_change_btn").click(),$("#login_btn").click(function(){$.get("http://datainfo.duapp.com/shopdata/userinfo.php",{status:"login",userID:$("#login_username").val(),password:$("#login_psw1").val()},function(t){0==(t=JSON.parse(t))?$("#login_tishi").text("用户名不存在"):2==t?$("#login_tishi").text("用户名与密码不符"):$("#login_psw3").val().toUpperCase()==$("#login_changpic").text()?($.cookie("username",t.userID,{expires:7,path:"/"}),window.location.href="index.html"):$("#login_tishi").text("验证码输入错误")})}),$(function(){$("#zhuche").find("input").focus(function(){$(this).addClass("active1")}).blur(function(){$(this).removeClass("active1")})}),$("#regist_change_btn").click(function(){var t=["A","B","C","D","E","F","G","H","I","G","K","L","M","N","O","P","Q","R","S","D","U","V","W","X","Y","Z","0","1","2","3","4","5","6","7","8","9"];$("#changpic").text("");for(var s=0;s<4;s++)$("#changpic").append(t[Math.floor(36*Math.random())])}),$("#regist_change_btn").click(),$("#regist_btn").click(function(){$.get("http://datainfo.duapp.com/shopdata/userinfo.php",{status:"register",userID:$("#username").val(),password:$("#psw1").val()},function(t){0==t&&""==$("#username").val()&&$("#regist_tishi").text("用户名不能为空"),0==t&&""!=$("#username").val()&&$("#regist_tishi").text("该用户名已被注册"),1==t&&($("#regist_tishi").text("注册成功"),window.location.href="login.html")})}),$("#username").change(function(){var t=!0,s=!0;$("#username").val().length<=3&&($("#regist_tishi").text("用户名不能小于4个字符"),t=!1),0==/^1(3|5|7|8)\d{9}$/.test($(this).val())&&t&&($("#regist_tishi").text("请正确输入手机号码"),s=!1),t&&s&&$("#regist_tishi").text("请输入密码")}),$("#psw1").change(function(){var t=/[a-zA-Z0-9_]/g;0==t.test($(this).val())&&$("#regist_tishi").text("密码只能包含数字字母和下划线"),t.test($(this).val())&&$("#regist_tishi").text("密码格式正确")}),$("#psw2").change(function(){$(this).val()!=$("#psw1").val()&&$("#regist_tishi").text("两次输入的密码不一致")}),$("#psw3").change(function(){$(this).val().toUpperCase()!=$("#changpic").text()&&$("#regist_tishi").text("验证码输入错误")});